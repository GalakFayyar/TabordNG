!function(){"use strict";function a(a,b,c,d,e){b.otherwise("/login"),a.state("login",{url:"/login",templateUrl:"views/common/login.html",controller:"LoginController"}).state("app",{url:"/",templateUrl:"views/index.html",controller:"MainController"}).state("dashboard",{url:"dashboard",views:{content:{templateUrl:"views/dashboard/dashboard.html",controller:"DashboardController"}},parent:"app"}).state("pharmacie",{url:"pharmacie",views:{content:{templateUrl:"views/dashboard/pharmacie.html",controller:"PharmacieController"}},parent:"app"}).state("pharmacie_chiffres",{url:"pharmacie/chiffres",views:{content:{templateUrl:"views/dashboard/pharmacie_chiffres.html",controller:"PharmacieChiffresController"}},parent:"app"}).state("merchandising_dashboard",{url:"merchandising/dashboard",views:{content:{templateUrl:"views/merchandising/dashboard.html",controller:"MerchandisingDashboardController"}},parent:"app"}).state("merchandising_forms",{url:"merchandising/forms",views:{content:{templateUrl:"views/merchandising/forms.html",controller:"MerchandisingFormsController"}},parent:"app"}).state("personnel_salaires",{url:"personnel/salaires",views:{content:{templateUrl:"views/personnel/salaires.html",controller:"PersonnelSalairesController"}},parent:"app"}),c.hashPrefix("!")}function b(a,b,c,d,e,f){a.alerts=[],a.user=null,f.color("#000"),f.height("3px"),a.redirectLogin=function(){delete a.user,c.remove("tabordngUser"),d.go("login")},a.closeAlert=function(b){a.alerts.splice(b,1)},a.closeError=function(){delete a.error},a.closeSuccess=function(){delete a.success},a.logout=function(){a.redirectLogin()},a.redirect=function(a){f.reset(),d.go(a)},a.$on("$stateChangeStart",function(a,b,c,d,e,g){f.start()})}angular.module("tabordNG",["ngRoute","ngResource","ngCookies","ngAnimate","ngSanitize","ngAnimate","ui.bootstrap","ui.router","ui.grid","ui.grid.resizeColumns","ui.grid.cellNav","ui.grid.autoResize","ui.grid.pagination","ui.grid.edit","ui.grid.rowEdit","ui.grid.selection","ui.grid.grouping","ui.grid.exporter","ui.grid.pinning","ui.select","ngProgress","toggle-switch","nvd3"]),angular.module("tabordNG").config(a),angular.module("tabordNG").run(b),a.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","tabordngConfig"],b.$inject=["$rootScope","$location","$cookieStore","$state","$injector","ngProgress"]}(),function(){"use strict"}(),function(){"use strict";angular.module("tabordNG").constant("tabordngConfig",{version:"0.0.1",api:{url:"http://91.121.133.203:8077/api/"},activateLogging:!0,timeoutAlertMessages:5e3})}(),function(){"use strict";function a(a,b){return{restrict:"A",link:function(c,d,e){c.$watch(e.content,function(){d.html(b(e.content)(c)),a(d.contents())(c)},!0)}}}function b(a,b){return{restrict:"A",link:function(c,d,e){function f(d){0===$(d.target).closest(".ui-select-container").size()&&(c.$emit(b.events.END_CELL_EDIT),a.off("click",f))}a.on("click",f)}}}function c(a){return function(b,c){var d=angular.element(a);b.getWindowDimensions=function(){return{h:d.height(),w:d.width()}},b.$watch(b.getWindowDimensions,function(a,c){b.windowHeight=a.h,b.windowWidth=a.w;var d=$(".main-header").outerHeight(!0),e=$(".navbar").outerHeight(!0),f=$(".content-header").outerHeight(!0),g=$(".btn-forms").outerHeight(!0),h=$(".nav-tabs").outerHeight(!0),i=$(".main-footer").outerHeight(!0),j=d+e+f+g+h+i+50;$(".tab-content").css("max-height",a.h-j),$(".tab-content").css("overflow-y","auto"),$(".tab-content").css("overflow-x","hidden");var k=$(".main-header").outerHeight()+$(".navbar").outerHeight()+$(".content-header").outerHeight(!0)+$(".nav-tabs").outerHeight()+$(".btn-forms").outerHeight()+$(".main-footer").outerHeight();$(".content-tab").css("height",a.h-k)},!0),d.bind("resizeForm",function(){b.$apply()})}}function d(a){var b=function(a,b){a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}};return{restrict:"A",scope:{ngReallyClick:"&",item:"="},link:function(c,d,e){d.bind("click",function(){var d=e.ngReallyMessage||"Êtes-vous sûr ?",f='<div class="modal-header"><h3 class="modal-title">Confirmer l\'opération</h3></div>';f+='<div class="modal-body">'+d+"</div>",f+='<div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-warning" ng-click="cancel()">Annuler</button></div>';var g=a.open({template:f,controller:b});g.result.then(function(){c.ngReallyClick({item:c.item})},function(){})})}}}angular.module("tabordNG").directive("directiveEvalCodeAngularJs",a),angular.module("tabordNG").directive("uiSelectWrap",b),angular.module("tabordNG").directive("ngReallyClick",d),angular.module("tabordNG").directive("resizeForm",c),c.$inject=["$window"]}(),function(){"use strict";function a(a,b){return function(b){return a.trustAsHtml(b)}}function b(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=b[g].toLowerCase();if(a[g].toString().toLowerCase().indexOf(h)!==-1){d=!0;break}}d&&c.push(a)}):c=a,c}}angular.module("tabordNG").filter("unsafe",a),angular.module("tabordNG").filter("propsFilter",b)}(),function(){"use strict";function a(a,b){return a(b.api.url+"conf",{},{getConfig:{method:"GET"}})}angular.module("tabordNG").factory("ConfigService",a),a.$inject=["$resource","tabordngConfig"]}(),function(){"use strict";function a(a){return{getPaginationOptions:function(){return{pageNumber:1,pageSize:10,offset:0,sort:null}},getCurrentDate:function(){var a=new Date,b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear();return b<10&&(b="0"+b),c<10&&(c="0"+c),b+"/"+c+"/"+d},initDatePicker:function(a){$.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Decembre"],monthsShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Annuler",titleFormat:"MM yyyy"},$.fn.datepicker.defaults.language="fr",$(a).datepicker({autoclose:!0,format:"yyyy-mm-dd",language:"fr",weekStart:1})}}}angular.module("tabordNG").factory("HelperService",a),a.$inject=["$rootScope"]}(),function(){"use strict";function a(a,b){return a(b.api.url+":action/:login",{},{authenticate:{method:"POST",params:{action:"authenticate"}},logout:{method:"POST",params:{action:"logout"}}})}function b(a,b){return a(b.api.url+":resource/:action/:subresource/:subaction",{},{get_all:{method:"GET",params:{resource:"pharmacie",action:"get_all"}},update:{method:"POST",params:{resource:"pharmacie",action:"update"}},create:{method:"POST",params:{resource:"pharmacie",action:"create"}},delete:{method:"POST",params:{resource:"pharmacie",action:"delete"}}})}function c(a,b){return a(b.api.url+":resource/:id",{},{get_codes_tva:{method:"GET",params:{resource:"codes_tva"}}})}angular.module("tabordNG").factory("UserService",a),angular.module("tabordNG").factory("PharmacieService",b),angular.module("tabordNG").factory("TestService",c),a.$inject=["$resource","tabordngConfig"],b.$inject=["$resource","tabordngConfig"],c.$inject=["$resource","tabordngConfig"]}(),function(){"use strict";function a(a,b){return a(b.api.url+":resource/:action/:subresource/:subaction",{},{get_form:{method:"GET",params:{resource:"merchandising",action:"get_form"}},get_forms:{method:"GET",params:{resource:"merchandising",action:"get_forms",subresource:"pharmacie"}},create_form:{method:"POST",params:{resource:"merchandising",action:"create_form"}},update_form:{method:"POST",params:{resource:"merchandising",action:"update_form"}},delete_form:{method:"GET",params:{resource:"merchandising",action:"delete_form"}}})}angular.module("tabordNG").factory("MerchandisingService",a),a.$inject=["$resource","tabordngConfig"]}(),function(){"use strict";function a(a,b,c,d,e){setTimeout(function(){$.AdminLTE.layout.activate()},500),console.log("AdminLTE loaded");var f=function(){return[{values:[{month:1,value:4},{month:2,value:7},{month:3,value:10},{month:4,value:5},{month:5,value:14},{month:6,value:8},{month:7,value:12},{month:8,value:13},{month:9,value:15},{month:10,value:11},{month:11,value:10},{month:12,value:9}],key:"2016",color:"#3c8dbc",strokeWidth:2},{values:[{month:1,value:7},{month:2,value:10},{month:3,value:13},{month:4,value:15},{month:5,value:2},{month:6,value:10},{month:7,value:8},{month:8,value:5},{month:9,value:13},{month:10,value:11},{month:11,value:12},{month:12,value:9}],key:"2015",color:"#d2d6de",strokeWidth:2}]},g=function(){return[{id:0,libelle:"BOIRON",value:31},{id:1,libelle:"FURTERER",value:53},{id:2,libelle:"AVENE",value:21},{id:3,libelle:"URIAGE",value:5},{id:4,libelle:"LA ROCHE POSAY",value:27},{id:5,libelle:"WELEDA",value:24},{id:6,libelle:"UPSA",value:14},{id:6,libelle:"BAYER",value:12}]};c(function(){e.complete()});var h=["Jan","Fev","Mars","Avr","Mai","Juin","Juil","Aout","Sept","Oct","Nov","Dec"];a.chart={sales:{options:{chart:{type:"lineChart",height:200,margin:{top:20,right:20,bottom:40,left:55},x:function(a){return a.month},y:function(a){return a.value},useInteractiveGuideline:!0,dispatch:{stateChange:function(a){console.log("stateChange")},changeState:function(a){console.log("changeState")},tooltipShow:function(a){console.log("tooltipShow")},tooltipHide:function(a){console.log("tooltipHide")}},isArea:!1,clipEdge:!1,xAxis:{axisLabel:"Mois",tickFormat:function(a){return h[a-1]}},yAxis:{axisLabel:"nombre de produits",tickFormat:function(a){return d3.format("d")(a)},axisLabelDistance:-10},callback:function(a){console.log("!!! lineChart callback !!!")}}},data:f()},products:{options:{chart:{type:"pieChart",height:200,x:function(a){return a.libelle},y:function(a){return a.value},showLabels:!1,pieLabelsOutside:!0,showLabels:!0,labelType:"percent",duration:500,legend:{margin:{top:0,right:0,bottom:0,left:0}},legendPosition:"right",noData:"Aucune donnée à afficher"}},data:g()}}}angular.module("tabordNG").controller("DashboardController",a),a.$inject=["$scope","$rootScope","$timeout","HelperService","ngProgress"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){a.username="",a.password="",b.pharmacie={selected:null},a.login=function(){e.authenticate({},{username:a.username,password:a.password},function(c){console.log(c),c.data&&c.data.authenticated?(console.log("authentication succesful"),b.user=c,a.rememberMe&&d.put("tabordngUser",b.user),h.go("dashboard")):(console.log("authentication failed"),a.authentication={status:"failed",message:"Echec de l'authentification avec ce username"})},function(a){console.log(a)})},b.checkUserGranted=function(a){return b.user&&b.user.actions&&b.user.actions.indexOf(b.permissions[a])!=-1};var j=function(){f.get_all({},function(c){a.pharmacies={list:c.data},console.log(a.pharmacies.list),b.pharmacie.selected=a.pharmacies.list[0],i.complete()},function(a){console.log("Erreur get_all_pharmacie(): ",a),i.reset()})};j()}angular.module("tabordNG").controller("LoginController",a),a.$inject=["$scope","$rootScope","$location","$cookieStore","UserService","PharmacieService","ConfigService","$state","ngProgress"]}(),function(){"use strict";function a(a,b){}function b(a){a.toto="test"}function c(a,b,c,d){a.current_pharmacie={periode:{available_periods:[{num:1,libelle:"Janvier 2016"},{num:2,libelle:"Février 2016"},{num:3,libelle:"Mars 2016"}],selected:null}};var e=function(){d.get_all({},function(b){a.pharmacies={list:b.data}},function(a){console.log("Erreur get_all_pharmacie(): ",a)})};a.changeSelectedPharmacie=function(){c.reload()},e()}function d(a,b){a.version=b.version}angular.module("tabordNG").controller("MainController",a),angular.module("tabordNG").controller("HeaderController",b),angular.module("tabordNG").controller("LeftSideBarController",c),angular.module("tabordNG").controller("FooterController",d),a.$inject=["$scope","TestService"],b.$inject=["$scope"],c.$inject=["$scope","$rootScope","$state","PharmacieService"],d.$inject=["$scope","tabordngConfig"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){$.AdminLTE.layout.activate(),a.displayForms=!1,a.survey={list:[],selected:void 0,search:void 0},a.logicielGestion={list:[],selected:null},a.tab={indicateurs:{active:!0},contexte_environnemental:{active:null},contexte_interne:{active:null},profil_marketing:{active:null},politique_personnel:{active:null},gestion_stocks:{active:null},divers:{active:null}},a.logicielGestion.list=[{libelle:"Alliance Premium",editeur:"Alliadis"},{libelle:"Premium",editeur:"Alliadis"},{libelle:"Périphar",editeur:"Alliadis (Aspline)"},{libelle:"Opus",editeur:"Alliadis (PG Informatique)"},{libelle:"PharmaVitale",editeur:"C.E.P.I Soft"},{libelle:"Caduciel V6",editeur:"Caduciel"},{libelle:"Esculape",editeur:"CIAM"},{libelle:"Winpharma",editeur:"Everys"},{libelle:"Crystal",editeur:"Infosoft"},{libelle:"Léo",editeur:"Isipharm"},{libelle:"Gestion pharmacie",editeur:"Julien Misiak"},{libelle:"PharmaLand",editeur:"La Source Informatique"},{libelle:"ActiPharm",editeur:"MSI2000"},{libelle:"LGPI",editeur:"Pharmagest"},{libelle:"CIP Primoris",editeur:"Pharmagest"},{libelle:"Logiphar",editeur:"Pharmavision"},{libelle:"Vindilis",editeur:"Vindilis"},{libelle:"VisioPharm",editeur:"Visiosoft"}];var h=function(){a.survey.selected={id:null,libelle:null,operator:null!=b.user&&null!=b.user.data?b.user.data.username:null,date_operation:e.getCurrentDate(),pharmacie:{code:void 0!=b.pharmacie&&void 0!=b.pharmacie.selected?b.pharmacie.selected.id:null},forms:{indicateurs:{structureCA:{data:[{title:"Chiffre d'affaire H.T.",a2014:null,a2015:null,a2016:null,evolR1:null,evolR2:null,disabled:!0},{title:"TVA 2,10%",a2014:null,a2015:null,a2016:null,evolR1:null,evolR2:null},{title:"TVA 5,50%",a2014:null,a2015:null,a2016:null,evolR1:null,evolR2:null},{title:"TVA 20%",a2014:null,a2015:null,a2016:null,evolR1:null,evolR2:null}]},marge:{globale:null,prc:null},stocks:{data:[{title:"Stocks 2,10%",valeur:null,poidsCA:null,poidsStock:null,rationRotation:null},{title:"Stocks 5,50%",valeur:null,poidsCA:null,poidsStock:null,rationRotation:null},{title:"Stocks 20%",valeur:null,poidsCA:null,poidsStock:null,rationRotation:null},{title:"Stocks Total",valeur:null,poidsCA:null,poidsStock:null,rationRotation:null,disabled:!0}]},frequentation:{clientJour:null,panierMoyen:null,panierHorsOrdon:null},capaciteAccueil:{surfaceTotale:null,surfaceVente:null,surfaceReserve:null,nbPostesOrdonnance:null,nbPostesSansOrdonnance:null,nbPostesPara:null,amplitudeHoraire:null},ressourcesHumaines:{nbSalaries:null,nbETP:null,poidsMS:null,ratioMS:null},structurePersonnel:{nbTitulaires:null,nbPharmDiplo:null,nbPreparateurs:null,nbEstheticiennes:null,nbStagiaires:null,nbStockistes:null,nbPersoAdmin:null,nbFemmeMenage:null}},contexteEnvironnemental:{implantationVente:null,visibiliteLocal:null,accessibilite:null,commoditeStationnement:null,environnementCommercial:null,fluxPietonnier:null,fluxAutomobile:null,longeurVitrine:null,surface:{totale:null,clientele:null,bo:null,reserve:null},envMedicalGeneraliste:null,envMedicalSpecialiste:null,envCentresMedicaux:null,envMedicalHospitalier:null,concurrents:[]},contexteInterne:{signalisation:{nombreDimensionEnseignes:null,visibilitePharmacie:null,panneaux:null,etatGeneral:null,proprete:null},vitrines:{eclairage:null,soin:null,personnalisees:null,thematiques:null,saisonnalisees:null,natureMessageDelivre:null,affichageHoraires:null,affichagePrix:null},eclairage:{repartition:null,puissance:null,mesure:{comptoirs:null,lineairesPara:null,lineairesOTC:null,ambiance:null},etat:null},sonorisation:{niveauSonore:null,natureProgrammeMusical:null},proprete:{sol:null,lineairesProduits:null,tenuesPersonnel:null},affichage:null,signaletique:null,audio:null,oneToOne:null,balisageLineaire:null,gestionFluxCirculation:null,mobilier:null,logiqueImplantation:null,reserve:{surface:null,organisation:null},comptoirs:{nombre:null,nombrePara:null}},profilMarketing:{accueilTel:{formationPersonnel:null,nbSonneries:null,phraseTypeAccueil:null,protocoleMiseAttente:null,decouverteObjetAppel:null,procedureTransmissionMessage:null,procedureConfirmPriseMessage:null,phraseTypeConges:null},accueilClientele:{pecClientEntree:null,phraseTypeAccueil:null,procedureReducDelaiAttente:null,efforAttente:null,exploDemande:null,exploCompl:null,phraseTypeConges:null},structureAssortiment:{dermatologie:null,cosmetique:null,solaires:null,amincissants:null,cremesMain:null,hygieneIntime:null,bebeDermo:null,bebeAccessoires:null,capillaires:null,pieds:null,hbd:null,contactologue:null,premiersSecours:null,complAlimentaires:null,dietMinceur:null,substRepas:null,herboristerie:null,veterinaire:null,douleursFievre:null,rhum:null,gorge:null,digestion:null,homeo:null,sevrageTabac:null,vitamines:null},lineaires:{potExpo:{largeur:null,profondeur:null,nbNiveaux:null,modularite:null},para:{nb:null,mld:null},otc:{nb:null,mld:null},effetMasse:null,logiqueImplantation:null},tdg:{nb:null,effetMasse:null,selectProd:null,balisagePrix:null},comptoirs:{nb:null,nbPara:null,encombrement:null,selectProd:null},balisage:{selectProd:null,carteGraphique:null},polPrix:{para:{gen:null,leader:null},otc:{gen:null,leader:null}},animPdv:{pertinenceTheme:null,clarteOffre:null,agressiviteComm:null,PeriodOperations:null}},politiquePersonnel:{fonctionnementInterne:{regles:{identification:null,formalisation:null,frequenceReajustement:null,collaborateursAssociesEvolution:null,controleApplication:null,polesDelegationResponsables:null,rolesRepartisCompetences:null,tachesConnuesReparties:null,procedureIntegration:null},communication:{projetEntreprise:null,objectifs:null,entretiensIndividuels:null,disponibiliteManager:null},communicationClientele:{connaissanceTitulaires:null,horairesOuvertures:null,polesResponsabilites:null,valeursEngagments:null,operationsPromotionnelles:null,politiquePrix:null},politiqueFormation:{formationCollaborateur:null,sensibilisationFormation:null,formationProduit:null,formationTechniquesVente:null},politiqueSalariale:{grilleSalariale:null,interetResultatEntreprise:null,planInteressementExistant:null}}},gestionStocks:{achats:{poleCompetence:null,calculPrixVente:null},informatique:{poleCompetence:null,majFichesProduits:null,calculPrixVente:null},stocks:{poleCompetenceReceptionCommandes:null,poleCompetenceVerifFactures:null},reapprovisionnementRayons:{poleCompetence:null,reapprovisionnementRayons:null,frequence:null}},divers:{informatique:{logicielGestion:null,nombrePostes:{comptoirs:null,para:null,bo:null,reserve:null,administratif:null},connectionInternet:{comptoirs:null,para:null,bo:null,reserve:null,administratif:null},offreLogicielle:{word:null,excel:null,autres:null},amplitudeHoraires:null}}}}},i=function(){g.start(),void 0!=b.pharmacie?f.get_forms({subaction:b.pharmacie.selected.id},function(b){a.survey.list=b.data,console.log(a.survey.list),g.complete()},function(a){g.reset(),console.log("Erreur getData(): ",a)}):(g.reset(),console.log("Aucune pharmacie sélectionnée..."))};a.saveForm=function(){void 0!=a.survey.selected&&null!=a.survey.selected.id&&a.survey.selected.id!=-1?f.update_form({},{form:a.survey.selected},function(a){g.complete(),console.log(a)},function(b){g.reset(),console.log("Erreur de mise à jour du formulaire: ",a.survey.selected)}):f.create_form({},{form:a.survey.selected},function(b){a.survey.selected.id=b.id,g.complete(),console.log(b)},function(b){g.reset(),console.log("Erreur de création du formulaire: ",a.survey.selected)}),a.displayForms=!0},a.createNewForm=function(){h(),a.survey.selected=void 0,a.survey.search=void 0,a.displayForms=!0},a.deleteForm=function(){a.displayForms=!1,f.delete_form({subresource:a.survey.selected.id},{},function(b){g.complete(),console.log(b),i(),a.survey.selected=null},function(b){g.reset(),console.log("Erreur de suppression du formulaire: ",a.survey.selected)})},a.templatesUrl={indicateurs:{ref:"views/merchandising/form-indicateurs.html",current:"views/merchandising/form-indicateurs.html"},contexte_environnemental:{ref:"views/merchandising/form-context-environnemental.html",current:null},contexte_interne:{ref:"views/merchandising/form-context-interne.html",current:null},profil_marketing:{ref:"views/merchandising/form-profil-marketing.html",current:null},politique_personnel:{ref:"views/merchandising/form-politique-personnel.html",current:null},gestion_stocks:{ref:"views/merchandising/form-gestion-stock.html",current:null},divers:{ref:"views/merchandising/form-divers.html",current:null}};var j=function(){a.templatesUrl.indicateurs.current=null,a.templatesUrl.contexte_environnemental.current=null,a.templatesUrl.contexte_interne.current=null,a.templatesUrl.profil_marketing.current=null,a.templatesUrl.politique_personnel.current=null,a.templatesUrl.gestion_stocks.current=null,a.templatesUrl.divers.current=null};a.selectedFormTab="indicateurs",a.tabHeadingClick=function(b){g.start(),j(),a.templatesUrl[b].current=a.templatesUrl[b].ref,g.complete(),a.selectedFormTab!=b&&(d(function(){$(":checkbox").labelauty(),$(":radio").labelauty({minimum_width:"100%"})},500),a.selectedFormTab=b)},d(function(){$(":checkbox").labelauty(),$(":radio").labelauty({minimum_width:"100%"}),e.initDatePicker("#dateForm"),g.complete(),i()},500),a.refreshResults=function(b){var c=b.search,d=angular.copy(b.items),e=-1;d=d.filter(function(a){return a.id!==e}),c?(h(),a.survey.selected.id=e,a.survey.selected.libelle=c,b.items=[a.survey.selected].concat(d)):b.items=d},h(),a.grid={structureCA:{enableSelectAll:!1,enableColumnMenus:!1,minRowsToShow:4,enableGridMenu:!1,enableFiltering:!1,useExternalFiltering:!1,exporterMenuPdf:!1,rowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,enableCellEdit:!0,enableCellEditOnFocus:!0,rowEditWaitInterval:-1,columnDefs:[{name:"title",displayName:"Taux TVA",pinnedLeft:!0,enableFiltering:!1,enableSorting:!1,type:"string",enableHiding:!1,width:150,cellTemplate:'<div class="ui-grid-cell-contents"><b>{{row.entity[col.field]}}</b></div>'},{name:"a2014",field:"a2014",displayName:"2014",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"a2015",displayName:"2015",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"evolR1",displayName:"évol./A-1",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"a2016",displayName:"2016",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"evolR2",displayName:"évol./A+1",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"}],onRegisterApi:function(b){a.tngStructureCAGridApi=b}},stocks:{enableSelectAll:!1,enableColumnMenus:!1,minRowsToShow:4,enableGridMenu:!1,enableFiltering:!1,useExternalFiltering:!1,exporterMenuPdf:!1,rowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,enableCellEdit:!0,enableCellEditOnFocus:!0,rowEditWaitInterval:-1,columnDefs:[{name:"title",displayName:"Stocks / Taux TVA",pinnedLeft:!0,enableFiltering:!1,enableSorting:!1,type:"string",enableHiding:!1,width:150,cellTemplate:'<div class="ui-grid-cell-contents"><b>{{row.entity[col.field]}}</b></div>'},{name:"valeur",displayName:"valeur",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"poidsCA",displayName:"Poids CA",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"poidsStock",displayName:"Poids stock",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"rationRotation",displayName:"Ratio rotation stock",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"}],onRegisterApi:function(b){a.tngStockGridApi=b}}},a.grid.structureCA.data="survey.selected.forms.indicateurs.structureCA.data",a.grid.stocks.data="survey.selected.forms.indicateurs.stocks.data",a.optionsStructureCAPieChart={chart:{type:"pieChart",height:150,x:function(a){return a.title},y:function(a){return a.a2016},showLabels:!1,duration:500,legend:{margin:{top:0,right:0,bottom:0,left:0}},legendPosition:"right"}},a.optionsStocksPieChart={chart:{type:"pieChart",height:150,x:function(a){return a.title},y:function(a){return a.valeur},showLabels:!1,duration:500,legend:{margin:{top:0,right:0,bottom:0,left:0}},legendPosition:"right"}}}function b(a,b,c,d,e,f){c(function(){f.complete()},500)}angular.module("tabordNG").controller("MerchandisingFormsController",a),angular.module("tabordNG").controller("MerchandisingDashboardController",b),a.$inject=["$scope","$rootScope","$state","$timeout","HelperService","MerchandisingService","ngProgress"],b.$inject=["$scope","$rootScope","$timeout","HelperService","MerchandisingService","ngProgress"]}(),function(){"use strict";function a(a,b,c,d){$.AdminLTE.layout.activate(),a.grid={salaires:{enableSelectAll:!1,enableColumnMenus:!1,minRowsToShow:4,enableGridMenu:!1,enableFiltering:!1,useExternalFiltering:!1,exporterMenuPdf:!1,rowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,enableCellEdit:!0,enableCellEditOnFocus:!0,rowEditWaitInterval:-1,columnDefs:[{name:"nom",displayName:"Nom",pinnedLeft:!0,enableFiltering:!1,enableSorting:!1,type:"string",enableHiding:!1},{name:"prenom",field:"prenom",displayName:"Prénom",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"cadre",displayName:"Cadre",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"bool"},{name:"montant",displayName:"Montant Brut",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"charges",displayName:"Charges",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"string"},{name:"date_entree",displayName:"Ancienneté",pinnedLeft:!0,enableFiltering:!0,enableSorting:!0,type:"date"}],onRegisterApi:function(b){a.tngStructureCAGridApi=b}}};var e=function(){d.complete()};e()}angular.module("tabordNG").controller("PersonnelSalairesController",a),a.$inject=["$scope","HelperService","uiGridConstants","ngProgress"]}(),function(){"use strict";function a(a){$.AdminLTE.layout.activate()}angular.module("tabordNG").controller("PharmacieChiffresController",a),a.$inject=["$scope"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){$.AdminLTE.layout.activate(),a.pharmacie={selected:null},a.btnCreate={disabled:!0};var h=function(){g.start(),e.get_all({},function(b){a.pharmacies={list:b.data},console.log(a.pharmacies.list),g.complete()},function(a){g.reset(),console.log("Erreur get_all_pharmacie(): ",a)})},i=function(){g.start(),e.update({},{pharmacies:[a.pharmacie.selected]},function(a){g.complete(),console.log(a)},function(b){g.reset(),console.log("Erreur de mise à jour de la pharmacie: ",a.pharmacie.selected)})},j=function(){g.start(),e.create({},{pharmacie:[a.pharmacie.selected]},function(a){g.complete(),console.log(a),h()},function(b){g.reset(),console.log("Erreur de création de la pharmacie: ",a.pharmacie.selected)})},k=function(){g.start(),e.delete({},{pharmacie:[a.pharmacie.selected]},function(b){g.complete(),console.log(b),h(),a.pharmacie.selected=null},function(b){g.reset(),console.log("Erreur de suppression de la pharmacie: ",a.pharmacie.selected)})};a.checkFiledsCreation=function(){var b=null!=a.pharmacie.selected&&a.pharmacie.selected.denomination&&null!=a.pharmacie.selected.adresse&&a.pharmacie.selected.adresse.num&&a.pharmacie.selected.adresse.libelle&&a.pharmacie.selected.adresse.cp&&a.pharmacie.selected.adresse.ville&&null!=a.pharmacie.selected.telephone&&a.pharmacie.selected.telephone.fixe&&a.pharmacie.selected.telephone.portable&&a.pharmacie.selected.fax&&a.pharmacie.selected.email&&a.pharmacie.selected.date_installation&&a.pharmacie.selected.nb_associes&&a.pharmacie.selected.num_tva_intercom;a.btnCreate.disabled=!b},a.btnAction=function(a){switch(a){case"create":console.log("Création d'une nouvelle pharmacie ..."),j();break;case"save":console.log("Sauvegarde des modifications ..."),i();break;case"delete":console.log("Suppression de pharmacie ..."),k();break;case"cancel":b.go("dashboard")}},a.emptyPharmacieFields=function(){a.pharmacie.selected=null},c(function(){d.initDatePicker("#dateInstall")},10),h()}angular.module("tabordNG").controller("PharmacieController",a),a.$inject=["$scope","$state","$timeout","HelperService","PharmacieService","uiGridConstants","ngProgress"]}();